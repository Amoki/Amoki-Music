{% load filters %}
{% for music in musics %}
<li class="list-group-item item-lib {{tab}}">
	<div class="row row-list-item">
		<img class="col-xs-3" src="{{music.thumbnail}}" style="padding:0px">
		<div class="col-xs-7" style="padding-right:0px">
			<div class="row">
				<div class="col-xs-12" style="min-height:45px">{{music.name}}</div>
			</div>
			<div class="row">
				<div class="col-xs-8" style="color:black;font-weight:normal;">
					{% if tab == "youtube-list-music" %}<b>{{music.views}}</b> views{% else %}Played <b>{{music.count}}</b> times{% endif %}
				</div>
				<div class="col-xs-4">
					<span class="badge">{{music.duration|secToDuration}}</span>
				</div>
			</div>
		</div>
		<form id="form-add-{{music.music_id}}" class="ajax-add-music col-xs-2" action="/add-music/" method="post">
			<input class="music_id" type="hidden" value="{{music.music_id}}" name="music_id">
			{% if music.requestId %}
			<input class="requestId" type="hidden" value="{{music.requestId}}" name="requestId">
			{% endif %}
			<button class="btn btn-default btn-lg" type="submit" alt="Ajouter à la playlist" title="Ajouter à la playlist">
				<span class="glyphicon glyphicon-headphones"></span>
			</button>
		</form>
	</div>
	{% if music.channel_name %}

	<div class="row hide-it show-more">
		<hr/>
		<i class="fa fa-angle-double-down"></i>
	</div>

	<div class="row hide-it video-info">
		<hr/>
		<div class="col-xs-8" style="font-size: 12px;">
			<p>Posted by : {{music.channel_name}}</p>
			<p>{{music.description}}</p>
		</div>
		<div class="col-xs-4">
			<div>
				<a id="btn-preview-duration" data-toggle="modal" data-duration="{{music.duration}}" data-musicid="{{music.music_id}}" href="#music_preview" class="btn btn-primary">PREVIEW</a>
				<label for="timer-start">Start</label>
				<input type="text" form="form-add-{{music.music_id}}" id="timer-start-{{music.music_id}}" name="timer-start" size="4" pattern='[0-9]{1,3}'>
			</div>
			<div>
				<label for="timer-end">End</label>
				<input type="text" form="form-add-{{music.music_id}}" id="timer-end-{{music.music_id}}" name="timer-end" size="4" pattern='[0-9]{1,3}'>
			</div>
		</div>
	</div>

	{% endif %}
</li>
{% endfor %}
{% if more_music != None %}
<li class="list-group-item item-lib {{tab}} row row-list-item">
	<div><p>No more musics</p></div>
</li>
{% endif %}
